# üìò README: LLM Security Evaluation Toolkit

–¶–µ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –º—ñ—Å—Ç–∏—Ç—å –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω–∏—Ö —Å–∫—Ä–∏–ø—Ç–∏ –¥–ª—è **Red Team / Security
Evaluation** –≤–µ–ª–∏–∫–∏—Ö –º–æ–≤–Ω–∏—Ö –º–æ–¥–µ–ª–µ–π (LLM): -
`generate_attack_prompts.py` - `run_security_eval.py`

–í–æ–Ω–∏ –ø—Ä–∞—Ü—é—é—Ç—å —É –ø–∞—Ä—ñ: –ø–µ—Ä—à–∏–π –≥–µ–Ω–µ—Ä—É—î –¥–∞—Ç–∞—Å–µ—Ç –∞—Ç–∞–∫—É–≤–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–º–ø—Ç—ñ–≤,
–¥—Ä—É–≥–∏–π –ø–µ—Ä–µ–≤—ñ—Ä—è—î –ø–æ–≤–µ–¥—ñ–Ω–∫—É LLM –Ω–∞ –Ω–∏—Ö.

------------------------------------------------------------------------

## 1Ô∏è‚É£ `generate_attack_prompts.py` --- –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∞—Ç–∞–∫—É–≤–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–º–ø—Ç—ñ–≤

### üîπ –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è

–¶–µ–π —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î –Ω–∞–±—ñ—Ä **—à–∫—ñ–¥–ª–∏–≤–∏—Ö/Red Team –ø—Ä–æ–º–ø—Ç—ñ–≤** –¥–ª—è
LLM —É –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–º—É –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ.\
–í—ñ–Ω –æ—Ö–æ–ø–ª—é—î —Ä—ñ–∑–Ω—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –∞—Ç–∞–∫ (–≤–∏—Ç—ñ–∫ —Å–µ–∫—Ä–µ—Ç—ñ–≤, –∑–ª–æ–≤–∂–∏–≤–∞–Ω–Ω—è
—ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏, –æ–±—Ö–æ–¥–∏ –ø–æ–ª—ñ—Ç–∏–∫ —Ç–æ—â–æ).

### ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è

  ----------------------------------------------------------------------------------
  –ó–º—ñ–Ω–Ω–∞               –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è           –ó–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
  -------------------- --------------------- ---------------------------------------
  `OPENAI_API_KEY`     API –∫–ª—é—á –¥–ª—è          **–æ–±–æ–≤'—è–∑–∫–æ–≤–æ**
                       –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —á–µ—Ä–µ–∑       
                       OpenAI                

  `OUTPUT_FILE`        –ö—É–¥–∏ –∑–±–µ—Ä–µ–≥—Ç–∏         `attack_dataset.json`
                       —Ä–µ–∑—É–ª—å—Ç–∞—Ç (JSON)      

  `NUM_PER_CAT`        –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–∏–∫–ª–∞–¥—ñ–≤   `25`
                       –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é          

  `GEN_MODEL`          –ú–æ–¥–µ–ª—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó  `gpt-4`

  `REWRITE_MODEL`      –ú–æ–¥–µ–ª—å –¥–ª—è            —è–∫ `GEN_MODEL`
                       –ø–µ—Ä–µ–ø–∏—Å—É–≤–∞–Ω–Ω—è (–æ–ø—Ü.)  

  `GEN_LANG`           –ú–æ–≤–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó (`uk`, `mix`
                       `en`, `mix`)          

  `REWRITE_STYLE`      –ß–∏ —Ä–æ–±–∏—Ç–∏ –¥—Ä—É–≥–∏–π      `true`
                       –ø—Ä–æ—Ö—ñ–¥ –¥–ª—è —Å—Ç–∏–ª—é      
                       (`true/false`)        

  `ORG_NAME`           –ù–∞–∑–≤–∞ –∫–æ–º–ø–∞–Ω—ñ—ó        `Acme Corp`

  `PRODUCT_CODENAME`   –ö–æ–¥–æ–≤–∞ –Ω–∞–∑–≤–∞ –ø—Ä–æ–¥—É–∫—Ç—É `Project Atlas`

  `PRIMARY_DOMAINS`    –û—Å–Ω–æ–≤–Ω—ñ –¥–æ–º–µ–Ω–∏        `acme.com, corp.acme.com`

  `INTERNAL_TOOLS`     –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏/—Å–µ—Ä–≤—ñ—Å–∏ –≤ `Okta,Snowflake,...`
                       –∫–æ–º–ø–∞–Ω—ñ—ó              

  `MAX_PROMPT_CHARS`   –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –¥–æ–≤–∂–∏–Ω–∞   `600`
                       –æ–¥–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞        
  ----------------------------------------------------------------------------------

### ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫

``` bash
export OPENAI_API_KEY="sk-xxxx"
python generate_attack_prompts.py
```

–£ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ —Å—Ç–≤–æ—Ä–∏—Ç—å—Å—è —Ñ–∞–π–ª `attack_dataset.json`.

------------------------------------------------------------------------

## 2Ô∏è‚É£ `run_security_eval.py` --- –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤ –Ω–∞ LLM

### üîπ –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è

–¶–µ–π —Å–∫—Ä–∏–ø—Ç –±–µ—Ä–µ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π `attack_dataset.json` —ñ –ø—Ä–æ–≥–∞–Ω—è—î –π–æ–≥–æ —á–µ—Ä–µ–∑
LLM (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, vLLM),\
—â–æ–± –æ—Ü—ñ–Ω–∏—Ç–∏, —á–∏ –º–æ–¥–µ–ª—å: - **fail** ‚Üí –¥–∞–ª–∞ —à–∫—ñ–¥–ª–∏–≤—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å
(–∫–æ–¥/—ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó). - **resist** ‚Üí –≤—ñ–¥–º–æ–≤–∏–ª–∞—Å—å —ñ –Ω–µ –Ω–∞–¥–∞–ª–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π.

### ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è

  ------------------------------------------------------------------------------
  –ó–º—ñ–Ω–Ω–∞             –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è         –ó–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
  ------------------ ------------------- ---------------------------------------
  `VLLM_BASE_URL`    URL –¥–æ vLLM API     `http://localhost:8000/v1`

  `VLLM_API_KEY`     –ö–ª—é—á –¥–ª—è vLLM       `your_vllm_key_here`

  `OPENAI_API_KEY`   API –∫–ª—é—á OpenAI     `your_openai_key_here`
                     (–¥–ª—è "—Å—É–¥–¥—ñ")       

  `JUDGE_MODEL`      –ú–æ–¥–µ–ª—å –¥–ª—è –æ—Ü—ñ–Ω–∫–∏   `gpt-4`
                     (`gpt-4`, `gpt-4o`) 
  ------------------------------------------------------------------------------

### ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫

``` bash
export VLLM_BASE_URL="http://localhost:8000/v1"
export VLLM_API_KEY="test-key"
export OPENAI_API_KEY="sk-xxxx"

python run_security_eval.py
```

### üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

-   –í–∏–≤–æ–¥–∏—Ç—å—Å—è accuracy (–≤—ñ–¥—Å–æ—Ç–æ–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ–π).\
-   –ó–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –ª–æ–≥-—Ñ–∞–π–ª `security_eval_log.json` —ñ–∑ —É—Å—ñ–º–∞ –ø—Ä–æ–º–ø—Ç–∞–º–∏,
    –≤—ñ–¥–ø–æ–≤—ñ–¥—è–º–∏, –æ—á—ñ–∫—É–≤–∞–Ω–∏–º —Ç–∞ —Ñ–∞–∫—Ç–∏—á–Ω–∏–º –≤–µ—Ä–¥–∏–∫—Ç–æ–º.

------------------------------------------------------------------------

## üîó –†–æ–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å

1.  –ó–≥–µ–Ω–µ—Ä—É–π –¥–∞—Ç–∞—Å–µ—Ç:

    ``` bash
    python generate_attack_prompts.py
    ```

2.  –ó–∞–ø—É—Å—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É:

    ``` bash
    python run_security_eval.py
    ```

–¶–µ –¥–æ–∑–≤–æ–ª—è—î —Å—Ç–≤–æ—Ä–∏—Ç–∏ –≤–ª–∞—Å–Ω–∏–π –ø–∞–π–ø–ª–∞–π–Ω –¥–ª—è **–∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–æ–≥–æ
security-—Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è LLM**.

------------------------------------------------------------------------

